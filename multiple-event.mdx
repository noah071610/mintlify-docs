---
title: "다중 이벤트 사용하기"
description: "하나의 페이지 안에 여러 이벤트를 동시에 임베드하는 경우"
---

카나페 임베드 헬퍼 SDK는 `EVENT_HASH`에 따라 인스턴스를 생성하기 때문에 **하나의 페이지 안에 여러 이벤트를 동시에 임베드하는 경우**
SDK를 여러 개 삽입하셔야 합니다.

```javascript
// 첫번째 이벤트
<iframe
  id="cue_[EVENT_HASH]"
  src="https://canape.im/event/[EVENT_HASH]"
  width="100%"
  style="border: 0;"
  allowfullscreen
  onload="!function(e){const i='canape_embed_script';if(document.getElementById(i)){return;}let c=e.createElement('script');c.id=i;c.src='https://cdn.canape.im/_static/js/canape-url-embed.js?event_id=[EVENT_HASH]';e.head.append(c)}(document);"
></iframe> // 카나페 에디터에서 복사한 iframe 링크
<script async src="https://cdn.canape.im/_static/js/canape-embed-helper/@latest/canape-embed-helper.js?event_id=[EVENT_HASH]"></script>

// 두번째 이벤트
<iframe
  id="cue_[EVENT_HASH_SECOND]"
  src="https://canape.im/event/[EVENT_HASH_SECOND]"
  width="100%"
  style="border: 0;"
  allowfullscreen
  onload="!function(e){const i='canape_embed_script';if(document.getElementById(i)){return;}let c=e.createElement('script');c.id=i;c.src='https://cdn.canape.im/_static/js/canape-url-embed.js?event_id=[EVENT_HASH_SECOND]';e.head.append(c)}(document);"
></iframe> // 카나페 에디터에서 복사한 iframe 링크
<script async src="https://cdn.canape.im/_static/js/canape-embed-helper/@latest/canape-embed-helper.js?event_id=[EVENT_HASH_SECOND]"></script>
```

## 다중 인스턴스 생성에 따른 호출 객체명 변화

다중 인스턴스의 경우 단일 인스턴스와 달리 해당 이벤트 해시값을 사용하여 인스턴스를 조작할 수 있습니다.

```javascript
// 단일 이벤트의 경우 CanapeEmbedHelper 사용
if (window.CanapeEmbedHelper) {
  CanapeEmbedHelper.init("*", {
    signupSession: "session",
    customUserId: "id",
    isParticipationBlocked: true,
    isForceNewSignupUser: false,
  })

  CanapeEmbedHelper.event.on("all", (data) => {
    console.log(data)
  })
}
```

```javascript
// 다중 이벤트의 경우 CanapeEmbedHelperInstances 사용

const firstEventHash = "50d85a8a3252fq7bd58d7db600d3624ee8097qda08c6cbbb71f18942234310cf"
const secondEventHash = "w30af69de0125876ff6b542ee0eaa8f6ded2ec4849e7ddb9d84f0192a12q149x"
if (window.CanapeEmbedHelperInstances) {
  // CanapeEmbedHelperInstances.instances[EVENT_HASH] 를 사용해 인스턴스 연결
  const firstInstance = CanapeEmbedHelperInstances.instances[firstEventHash]
  const secondInstance = CanapeEmbedHelperInstances.instances[secondEventHash]
  firstInstance.init("*", {
    signupSession: "session",
    customUserId: "id",
    isParticipationBlocked: true,
    isForceNewSignupUser: false,
  })
  secondInstance.init("*", {
    signupSession: "session2",
    customUserId: "id2",
    isParticipationBlocked: false,
    isForceNewSignupUser: true,
  })

  firstInstance.event.on("all", (data) => {
    console.log(data)
  })
  secondInstance.event.on("all", (data) => {
    console.log(data)
  })
}
```
