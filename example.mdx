---
title: "사용 예시"
---

## Javascript

```javascript
if (window.CanapeEmbedHelper) {
  CanapeEmbedHelper.init("9cw8d37c3499edqw92f76147a98b71d153263d4284718a883b7c515c66cf290b", "*", {
    customUserId: "unique_1a98dj2",
    signupSession: "a1b2c3d4e5f6g7h8i9j0",
    isForceNewSignupUser: false,
    isParticipationBlocked: false,
  })

  // 당첨 이벤트 수신
  CanapeEmbedHelper.event.on("won", (data) => {
    console.log(`'${data.metadata.customUserId}'고객이 리워드 ${data.rewardName}에 당첨.`)
  })

  // 모든 이벤트 로깅
  CanapeEmbedHelper.event.on("all", (data) => {
    switch (data.type) {
      case "reward_form_submitted": {
        console.log("리워드 추가 정보 입력 제출")
        break
      }
      case "cta_button_clicked": {
        console.log("사용자가 CTA를 클릭했어요")
        break
      }
    }
  })
}
```

## React

```jsx
import React, { useEffect } from "react"

function CanapeEvent() {
  useEffect(() => {
    if (window.CanapeEmbedHelper) {
      window.CanapeEmbedHelper.init("9cw8d37c3499edqw92f76147a98b71d153263d4284718a883b7c515c66cf290b", "*", {
        customUserId: "unique_1a98dj2",
        signupSession: "a1b2c3d4e5f6g7h8i9j0",
        isForceNewSignupUser: false,
        isParticipationBlocked: false,
      })

      // 당첨 이벤트 수신
      window.CanapeEmbedHelper.event.on("won", (data) => {
        console.log(`'${data.metadata.customUserId}'고객이 리워드 ${data.rewardName}에 당첨.`)
      })

      // 모든 이벤트 로깅
      window.CanapeEmbedHelper.event.on("all", (data) => {
        switch (data.type) {
          case "reward_form_submitted": {
            console.log("리워드 추가 정보 입력 제출")
            break
          }
          case "cta_button_clicked": {
            console.log("사용자가 CTA를 클릭했어요")
            break
          }
        }
      })
    }
  }, [])

  return (
    <main>
      <iframe
        ref={iframeRef}
        id="cue_9cw8d37c3499edqw92f76147a98b71d153263d4284718a883b7c515c66cf290b"
        src={iframeSrc}
        style={{ border: 0 }}
        width="500px"
        allowFullScreen
        onLoad={() => {
          const scriptId = "canape_embed_script_9cw8d37c3499edqw92f76147a98b71d153263d4284718a883b7c515c66cf290b"
          if (document.getElementById(scriptId)) return
          const script = document.createElement("script")
          script.id = scriptId
          script.src =
            "https://cdn.canape.im/_static/js/canape-url-embed.js?event_id=9cw8d37c3499edqw92f76147a98b71d153263d4284718a883b7c515c66cf290b"
          document.head.appendChild(script)
        }}
      ></iframe>
      <script async src="http://cdn.canape.im/@latest/canape-embed-helper.js"></script>
    </main>
  )
}

export default CanapeEvent
```
